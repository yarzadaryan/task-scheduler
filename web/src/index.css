@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --bg: 255 255 255;
    --fg: 17 24 39;
    --muted: 107 114 128;
  }

  .dark :root {
    --bg: 17 24 39;
    --fg: 243 244 246;
    --muted: 156 163 175;
  }

  html, body, #root {
    height: 100%;
  }

  body {
    @apply min-h-screen;
    background: transparent;
    color: rgb(var(--fg));
    position: relative;
  }

  .dark body { background: transparent; }

  /* Soft vignette and grain on top of clouds */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.6) 0%, transparent 40%),
      radial-gradient(circle at 80% 70%, rgba(255,255,255,0.6) 0%, transparent 40%),
      radial-gradient(circle at 50% 50%, rgba(255,255,255,0.5) 0%, transparent 40%),
      radial-gradient(rgba(0,0,0,0.015) 1px, transparent 1px);
    background-size: 100% 100%, 100% 100%, 100% 100%, 24px 24px;
    pointer-events: none;
    z-index: -1;
    backdrop-filter: blur(60px);
  }

  .dark body::before {
    background-image:
      radial-gradient(circle at 15% 20%, rgba(255,255,255,0.04) 0%, transparent 40%),
      radial-gradient(circle at 85% 80%, rgba(255,255,255,0.04) 0%, transparent 40%),
      radial-gradient(circle at 50% 50%, rgba(255,255,255,0.03) 0%, transparent 40%),
      radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
  }

  a { @apply text-blue-600 hover:text-blue-700 underline underline-offset-4; }
  .dark a { @apply text-blue-400 hover:text-blue-300; }
}

/* Animated cloud layers behind everything */
.clouds-bg {
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;
  overflow: hidden;
}
.clouds-layer {
  position: absolute;
  top: 0;
  left: -50%;
  width: 200%;
  height: 60%;
  background-repeat: repeat-x;
  background-size: contain;
  opacity: 0.55;
  animation: drift var(--speed, 90s) linear infinite;
}
.clouds-layer.layer-1 {
  --speed: 120s;
  top: 5%;
  filter: blur(0.5px);
}
.clouds-layer.layer-2 {
  --speed: 180s;
  top: 25%;
  opacity: 0.45;
  filter: blur(1px);
}
.clouds-layer.layer-3 {
  --speed: 240s;
  top: 45%;
  opacity: 0.35;
  filter: blur(1.5px);
}

@keyframes drift {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

/* Light cloud SVG as data-URI */
.clouds-light {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='300' viewBox='0 0 1200 300'%3E%3Cg fill='%23ffffff' fill-opacity='0.8'%3E%3Cellipse cx='150' cy='120' rx='120' ry='60'/%3E%3Cellipse cx='260' cy='110' rx='90' ry='45'/%3E%3Cellipse cx='320' cy='130' rx='110' ry='55'/%3E%3Cellipse cx='520' cy='90' rx='140' ry='70'/%3E%3Cellipse cx='760' cy='120' rx='160' ry='80'/%3E%3Cellipse cx='980' cy='110' rx='120' ry='60'/%3E%3Cellipse cx='1120' cy='130' rx='140' ry='70'/%3E%3C/g%3E%3C/svg%3E");
}

/* Dark cloud SVG as data-URI */
.dark .clouds-light { opacity: 0.15; }
.dark .clouds-dark {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='300' viewBox='0 0 1200 300'%3E%3Cg fill='%23aab7cf' fill-opacity='0.25'%3E%3Cellipse cx='150' cy='120' rx='120' ry='60'/%3E%3Cellipse cx='260' cy='110' rx='90' ry='45'/%3E%3Cellipse cx='320' cy='130' rx='110' ry='55'/%3E%3Cellipse cx='520' cy='90' rx='140' ry='70'/%3E%3Cellipse cx='760' cy='120' rx='160' ry='80'/%3E%3Cellipse cx='980' cy='110' rx='120' ry='60'/%3E%3Cellipse cx='1120' cy='130' rx='140' ry='70'/%3E%3C/g%3E%3C/svg%3E");
}
