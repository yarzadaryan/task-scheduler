import{i as k,r as n,k as E,h as j,j as e}from"./index-Banu2gPq.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],T=k("pause",R);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],C=k("play",B);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],W=k("rotate-ccw",P);function _(a){const d=Math.max(0,Math.floor(a/1e3)),l=Math.floor(d/60),m=d%60;return`${String(l).padStart(2,"0")}:${String(m).padStart(2,"0")}`}function q(){const[a,d]=n.useState(25),[l,m]=n.useState(5),[f,h]=n.useState(!1),[i,w]=n.useState(!1),[s,u]=n.useState(null),o=n.useRef(null),v=n.useMemo(()=>s?s-Date.now():a*6e4,[s,a]),{toast:x}=E(),N=j(t=>t.addEvent),p=j(t=>t.updateEvent),[r,c]=n.useState(null);n.useEffect(()=>{if(f)return o.current=requestAnimationFrame(function t(){if(s&&Date.now()>=s){M(i?"Break finished":"Work session finished"),r&&(p(r,{end:Date.now()}),c(null));const b=Date.now()+(i?a:l)*6e4;w(g=>!g),u(b),N({title:i?"Work Session":"Break Session",start:Date.now(),allDay:!1}).then(g=>c(g.id))}o.current=requestAnimationFrame(t)}),()=>{o.current&&cancelAnimationFrame(o.current),o.current=null}},[f,s,a,l,i]);function y(){s||u(Date.now()+a*6e4),h(!0),r||N({title:i?"Break Session":"Work Session",start:Date.now(),allDay:!1}).then(b=>c(b.id)),x({type:"success",message:i?"Resumed break":"Started work"})}function S(){if(h(!1),s){const t=Math.max(0,s-Date.now());u(Date.now()+t)}r&&(p(r,{end:Date.now()}),c(null)),x({type:"info",message:"Paused"})}function D(){h(!1),w(!1),u(null),r&&(p(r,{end:Date.now()}),c(null)),x({type:"info",message:"Reset"})}function M(t){"Notification"in window&&(Notification.permission==="granted"?new Notification("Tasks",{body:t}):Notification.permission!=="denied"&&Notification.requestPermission()),x({type:"success",message:t})}return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Timer"}),e.jsx("p",{className:"text-sm text-black/60",children:"Focus with intervals and gentle reminders"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"rounded-2xl border border-black/5 bg-white/70 backdrop-blur p-4 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Settings"}),e.jsxs("div",{className:"flex flex-col gap-3 text-sm",children:[e.jsxs("label",{className:"inline-flex items-center justify-between gap-2",children:[e.jsx("span",{children:"Work (min)"}),e.jsx("input",{type:"number",min:1,max:120,value:a,onChange:t=>d(Number(t.target.value)),className:"w-24 rounded-md border border-black/10 bg-white px-2 py-1"})]}),e.jsxs("label",{className:"inline-flex items-center justify-between gap-2",children:[e.jsx("span",{children:"Break (min)"}),e.jsx("input",{type:"number",min:1,max:60,value:l,onChange:t=>m(Number(t.target.value)),className:"w-24 rounded-md border border-black/10 bg-white px-2 py-1"})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"rounded-2xl border border-black/5 bg-white/70 backdrop-blur p-6 shadow-sm flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"text-xs uppercase tracking-wider text-black/50",children:[i?"Break":"Work"," Session"]}),e.jsx("div",{className:"text-7xl md:text-8xl font-extrabold tabular-nums tracking-tight",children:_(v)}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[f?e.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 rounded-full bg-black/80 text-white px-5 py-2.5 hover:bg-black",children:[e.jsx(T,{className:"h-4 w-4"})," Pause"]}):e.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 rounded-full bg-black text-white px-5 py-2.5 hover:bg-black/90",children:[e.jsx(C,{className:"h-4 w-4"})," Start"]}),e.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 rounded-full border border-black/10 bg-white px-5 py-2.5 hover:bg-white/90",children:[e.jsx(W,{className:"h-4 w-4"})," Reset"]})]}),e.jsx("p",{className:"text-xs text-black/50",children:"Tip: allow notifications to get an alert when a session ends."})]})})]})]})}export{q as default};
