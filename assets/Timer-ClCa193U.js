import{c as h,a as n,b as y,j as e}from"./index-BIbjcoXG.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],S=h("pause",v);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],R=h("play",M);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],B=h("rotate-ccw",T);function C(a){const c=Math.max(0,Math.floor(a/1e3)),i=Math.floor(c/60),m=c%60;return`${String(i).padStart(2,"0")}:${String(m).padStart(2,"0")}`}function P(){const[a,c]=n.useState(25),[i,m]=n.useState(5),[u,x]=n.useState(!1),[r,f]=n.useState(!1),[t,o]=n.useState(null),l=n.useRef(null),p=n.useMemo(()=>t?t-Date.now():a*6e4,[t,a]),{toast:d}=y();n.useEffect(()=>{if(u)return l.current=requestAnimationFrame(function s(){if(t&&Date.now()>=t){w(r?"Break finished":"Work session finished");const N=Date.now()+(r?a:i)*6e4;f(j=>!j),o(N)}l.current=requestAnimationFrame(s)}),()=>{l.current&&cancelAnimationFrame(l.current),l.current=null}},[u,t,a,i,r]);function b(){t||o(Date.now()+a*6e4),x(!0),d({type:"success",message:r?"Resumed break":"Started work"})}function g(){if(x(!1),t){const s=Math.max(0,t-Date.now());o(Date.now()+s)}d({type:"info",message:"Paused"})}function k(){x(!1),f(!1),o(null),d({type:"info",message:"Reset"})}function w(s){"Notification"in window&&(Notification.permission==="granted"?new Notification("Tasks",{body:s}):Notification.permission!=="denied"&&Notification.requestPermission()),d({type:"success",message:s})}return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Timer"}),e.jsx("p",{className:"text-sm text-black/60",children:"Focus with intervals and gentle reminders"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"rounded-2xl border border-black/5 bg-white/70 backdrop-blur p-4 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Settings"}),e.jsxs("div",{className:"flex flex-col gap-3 text-sm",children:[e.jsxs("label",{className:"inline-flex items-center justify-between gap-2",children:[e.jsx("span",{children:"Work (min)"}),e.jsx("input",{type:"number",min:1,max:120,value:a,onChange:s=>c(Number(s.target.value)),className:"w-24 rounded-md border border-black/10 bg-white px-2 py-1"})]}),e.jsxs("label",{className:"inline-flex items-center justify-between gap-2",children:[e.jsx("span",{children:"Break (min)"}),e.jsx("input",{type:"number",min:1,max:60,value:i,onChange:s=>m(Number(s.target.value)),className:"w-24 rounded-md border border-black/10 bg-white px-2 py-1"})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"rounded-2xl border border-black/5 bg-white/70 backdrop-blur p-6 shadow-sm flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"text-xs uppercase tracking-wider text-black/50",children:[r?"Break":"Work"," Session"]}),e.jsx("div",{className:"text-7xl md:text-8xl font-extrabold tabular-nums tracking-tight",children:C(p)}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[u?e.jsxs("button",{onClick:g,className:"inline-flex items-center gap-2 rounded-full bg-black/80 text-white px-5 py-2.5 hover:bg-black",children:[e.jsx(S,{className:"h-4 w-4"})," Pause"]}):e.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 rounded-full bg-black text-white px-5 py-2.5 hover:bg-black/90",children:[e.jsx(R,{className:"h-4 w-4"})," Start"]}),e.jsxs("button",{onClick:k,className:"inline-flex items-center gap-2 rounded-full border border-black/10 bg-white px-5 py-2.5 hover:bg-white/90",children:[e.jsx(B,{className:"h-4 w-4"})," Reset"]})]}),e.jsx("p",{className:"text-xs text-black/50",children:"Tip: allow notifications to get an alert when a session ends."})]})})]})]})}export{P as default};
